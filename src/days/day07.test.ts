import { describe, expect, it } from "vitest";
import day07 from "./day07";

describe("Day 07", () => {
  describe("Part 1", () => {
    it("should solve example input", async () => {
      const exampleInput = `.......S.......
...............
.......^.......
...............
......^.^......
...............
.....^.^.^.....
...............
....^.^...^....
...............
...^.^...^.^...
...............
..^...^.....^..
...............
.^.^.^.^.^...^.
...............`;
      const expected = 21;
      const result = await day07.solver.part1(exampleInput);
      expect(result).toBe(expected);
    });
  });

  describe("Part 2", () => {
    it("should solve small example input", async () => {
      const exampleInput = `.......S.......
...............
.......^.......
...............
......^.^......
...............
.....^.^.^.....
...............`;

      // [{7:1}]
      // [{6:1},{8:1}]
      // [{5:1},{7:2},{9:1}]
      // [{4:1},{6:2},{8:2},{10:1}

      // LLL
      // LLR
      // LRL
      // LRR
      // RLL
      // RLR
      // RRL
      // RRR
      const expected = 8;
      const result = await day07.solver.part2(exampleInput);
      expect(result).toBe(expected);
    });
    it("should solve example input 9 lines", async () => {
      const exampleInput = `.......S.......
...............
.......^.......
...............
......^.^......
...............
.....^.^.^.....
...............
....^.^...^....
...............`;
      /*  0123456789
        0 .......S.......
        1 ...............
        2 .......^.......
        3 ...............
        4 ......^.^......
        5 ...............
        6 .....^.^.^.....
        7 ...............
        8 ....^.^...^....
        9 ...............
      // 0: [{7:1}]
      // 2: [{6:1},{8:1}]
      // 4: [{5:1},{7:2},{9:1}]
      // 6: [{4:1},{6:3},{8:3},{10:1}]
      // 8: [{3:1},{5:4},{7:3},{8:3},{9:1},{11:1}]
      */
      const expected = 13;
      const result = await day07.solver.part2(exampleInput);
      expect(result).toBe(expected);
    });
    it("should solve example input", async () => {
      const exampleInput = `.......S.......
...............
.......^.......
...............
......^.^......
...............
.....^.^.^.....
...............
....^.^...^....
...............
...^.^...^.^...
...............
..^...^.....^..
...............
.^.^.^.^.^...^.
...............`;
      /*  0123456789
        0 .......S.......
        1 ...............
        2 .......^.......
        3 ...............
        4 ......^.^......
        5 ...............
        6 .....^.^.^.....
        7 ...............
        8 ....^.^...^....
        9 ...............
       10 ...^.^...^.^...
       11 ...............
       12 ..^...^.....^..
       13 ...............
       14 .^.^.^.^.^...^.
       15 ...............`;
      // 0: [{7:1}]
      // 2: [{6:1},{8:1}]
      // 4: [{5:1},{7:2},{9:1}]
      // 6: [{4:1},{6:2},{8:2},{10:1}]
      // 8: [{3:1},{5:3},{7:2},{8:2},{9:1},{11:1}]
      */
      const expected = 40;
      const result = await day07.solver.part2(exampleInput);
      expect(result).toBe(expected);
    });
  });
});
